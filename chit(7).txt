import java.util.*;

public class Main {
    static class Process {
        String pid;
        int arrival, burst, start, completion, turnaround, waiting;

        Process(String pid, int arrival, int burst) {
            this.pid = pid;
            this.arrival = arrival;
            this.burst = burst;
        }
    }

    public static void main(String[] args) {
        List<Process> processes = new ArrayList<>();
        processes.add(new Process("P1", 0, 3));
        processes.add(new Process("P2", 2, 6));
        processes.add(new Process("P3", 4, 4));
        processes.add(new Process("P4", 6, 5));
        processes.add(new Process("P5", 8, 2));

        // Sort by arrival time
        processes.sort(Comparator.comparingInt(p -> p.arrival));

        int time = 0;
        for (Process p : processes) {
            if (time < p.arrival) time = p.arrival;
            p.start = time;
            time += p.burst;
            p.completion = time;
            p.turnaround = p.completion - p.arrival;
            p.waiting = p.turnaround - p.burst;
        }

        System.out.println("PID\tArrival\tBurst\tStart\tCompletion\tTurnaround\tWaiting");
        double totalTAT = 0, totalWT = 0;
        for (Process p : processes) {
            totalTAT += p.turnaround;
            totalWT += p.waiting;
            System.out.printf("%s\t%d\t%d\t%d\t%d\t\t%d\t\t%d%n",
                    p.pid, p.arrival, p.burst, p.start, p.completion, p.turnaround, p.waiting);
        }

        int n = processes.size();
        System.out.printf("%nAverage Turnaround Time: %.2f%n", totalTAT / n);
        System.out.printf("Average Waiting Time: %.2f%n", totalWT / n);

        // Gantt Chart
        System.out.println("\nGantt Chart:");
        for (Process p : processes) System.out.print("| " + p.pid + " ");
        System.out.println("|");
        System.out.print("0");
        for (Process p : processes) System.out.print("   " + p.completion);
        System.out.println();
    }
}

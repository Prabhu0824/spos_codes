import java.util.*;

public class LRUPageReplacement {
    public static void main(String[] args) {
        int[] pages = {2, 3, 2, 1, 5, 2, 4, 5, 3, 2, 5, 2}; // given reference string
        int frames = 3;  // number of frames
        simulateLRU(pages, frames);
    }

    public static void simulateLRU(int[] pages, int frames) {
        ArrayList<Integer> memory = new ArrayList<>(frames);
        int pageFaults = 0;

        System.out.println("Page Reference String: " + Arrays.toString(pages));
        System.out.println("Number of Frames: " + frames);
        System.out.println("\nPage\tFrames\t\tPage Fault");

        for (int page : pages) {
            if (memory.contains(page)) {
                // Move the recently used page to the end (most recently used)
                memory.remove((Integer) page);
                memory.add(page);
                System.out.println(page + "\t" + memory + "\t\tNo");
            } else {
                pageFaults++;
                if (memory.size() == frames) {
                    memory.remove(0); // Remove least recently used page
                }
                memory.add(page);
                System.out.println(page + "\t" + memory + "\t\tYes");
            }
        }

        System.out.println("\nTotal Page Faults: " + pageFaults);
    }
}
